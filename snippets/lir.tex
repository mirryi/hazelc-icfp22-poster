%! TeX root: ./lir.tex
\input{lir-prelude}

\begin{document}
  % let t1 = true in
  % let t2_x = emb t1 in
% let t3 = proj[Int] t2_x in
  % casecomplete t3 with
  %   | t4 ->
  %       let t5 = t4 * 6 in
  %       let t6 = wrap? t5 in
  %       let t7 = t6 +? ?1 in
  %       let t8 = wrap? t4 in
  %       t8 +? t7
  %   | t9 ->
  %       let t10 = wrap? 6 in
  %       let t11 = t9 *? t10 in
  %       let t12 = t11 +? ?1 in
  %       t9 +? t12
  \[\begin{array}{l}
    \ELet{t_1}{\ETrue} \EIn \\
    \ELet{\EVarNamed{2}{x}}{\EEmbedNC{t_1}} \EIn \\
    \ELet{t_3}{\EProj{\EVarNamed{2}{x}}{\TCInt}} \EIn \\

    \ECaseCompleteWith{t_3} \\
      \Indent \ECaseCompleteBranch{t_4}{} \\
        \Indent \Indent \ELet{t_5}{\ETimesNC{t_4}{6}} \EIn \\
        \Indent \Indent \ELet{t_6}{\EWrapIntoNI{t_5}} \EIn \\
        \Indent \Indent \ELet{t_7}{\EPlusNI{t_6}{\EEHole{1}{\sigma_1}}} \EIn \\
        \Indent \Indent \ELet{t_8}{\EWrapIntoNI{t_4}} \EIn \\
        \Indent \Indent \EPlusNI{t_8}{t_7} \\
      \Indent \ECaseCompleteBranch{t_{9}}{} \\
        \Indent \Indent \ELet{t_{10}}{\EWrapIntoNI{6}} \EIn \\
        \Indent \Indent \ELet{t_{11}}{\ETimesNI{t_{9}}{t_{10}}} \EIn \\
        \Indent \Indent \ELet{t_{12}}{\EPlusNI{t_{11}}{\EEHole{1}{\sigma_1}}} \EIn \\
        \Indent \Indent \EPlusNI{t_{9}}{t_{12}}
  \end{array}\]
\end{document}
