\input{lir-prelude}

\begin{document}
  % let t1 = true in
  % let t2_x = t1<?> in
  % let t3 = t2_x<Int> in
  % branch t3 with
  %   | t4 ->
  %       let t5 = t4 * 6 in
  %       let t6 = wrap? t5 in
  %       let t7 = t6 +? ?1 in
  %       let t8 = wrap? t4 in
  %       t8 +? t7
  %   | t9 ->
  %       let t10 = wrap? 6 in
  %       let t11 = t9 *? t10 in
  %       let t12 = t11 +? ?1 in
  %       t9 +? t12
  \[\begin{array}{l}
    \ELet{t_1}{\ETrue} \EInn \\
    \ELet{\ENamed{2}{x}}{\ECastPrim{t_1}{\TCHole}} \EInn \\
    \ELet{t_3}{\ECastIndet{\ENamed{2}{x}}{\TCInt}} \EInn \\

    \EBranchWith{t_3} \\
      \Indent \EBranchBr{t_4}{} \\
        \Indent \Indent \ELet{t_5}{\ETimesPrim{t_4}{6}} \EInn \\
        \Indent \Indent \ELet{t_6}{\EWrapIndet{t_5}} \EInn \\
        \Indent \Indent \ELet{t_7}{\EPlusIndet{t_6}{\EEHole{1}}} \EInn \\
        \Indent \Indent \ELet{t_8}{\EWrapIndet{t_4}} \EInn \\
        \Indent \Indent \EPlusIndet{t_8}{t_7} \\
      \Indent \EBranchBr{t_{9}}{} \\
        \Indent \Indent \ELet{t_{10}}{\EWrapIndet{6}} \EInn \\
        \Indent \Indent \ELet{t_{11}}{\ETimesIndet{t_{9}}{t_{10}}} \EInn \\
        \Indent \Indent \ELet{t_{12}}{\EPlusIndet{t_{11}}{\EEHole{1}}} \EInn \\
        \Indent \Indent \EPlusIndet{t_{9}}{t_{12}}
  \end{array}\]
\end{document}
